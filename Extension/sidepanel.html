<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="refreshNote" class="refresh-note">
      ⚠️ Refresh the main page if status is not in sync with Bet Button
    </div>
    <div class="status-bet-container">
      <div id="buttonStatus" class="button-status disconnected">
        <span class="status-dot red" title="Not Connected"></span>
        <span class="status-text">Ready</span>
      </div>
      <div id="currentBetAmount" class="current-bet-amount">Next Bet: $0.00</div>
    </div>
    <div id="walletBalance" class="wallet-balance">Balance: $0.00</div>
    </div>
    <div id="betNotification" class="bet-notification hidden"></div>
    
    <!-- Control Buttons -->
    <div class="control-buttons">
      <button id="startStopBtn" class="btn-small start-btn" disabled style="opacity: 0.5">🎯 Start</button>
      <button id="resetBetBtn" class="btn-small reset-btn">🔄 Reset</button>
    </div>

    <!-- Session Timer -->
      <div class="session-info">
        <div class="timer-display">
          <span class="timer-label">⏱️ Session Time:</span>
          <span id="sessionTimer" class="timer-value">00:00:00</span>
        </div>
      </div>
      
      <!-- Super Summary -->
      <div class="super-summary">
        <h4>📈 Full Session Summary</h4>
        <div class="super-stats">
          <span class="super-label">Total Profit: <span id="superProfitCurrency">$</span><span id="superProfit">0.00</span></span>
          <span class="super-label">Total Loss: <span id="superLossCurrency">$</span><span id="superLoss">0.00</span></span>
          <span class="super-label">Net: <span id="superNetCurrency">$</span><span id="superNet">0.00</span></span>
          <span class="super-label">Bets: <span id="superBets">0</span></span>
        </div>
      </div>

    <!-- Tab Navigation -->
    <div class="tab-container">
      <button class="tab-btn active" id="settingsTab">⚙️ Settings</button>
      <button class="tab-btn" id="historyTab">📊 History</button>
    </div>

    <!-- Settings Tab Content -->
    <div id="settingsContent" class="tab-content active">
      <!-- Validation Error Message -->
      <div id="validationError" class="validation-error hidden"></div>
      <!-- Basic Configuration -->
      <div class="config-section">
        <h4>💰 Basic Configuration</h4>
        <div class="form-row">
          <div class="form-half">
            <label>Bet Amount</label>
            <input type="number" id="betAmount" step="0.01" min="0.01" max="10000" placeholder="0.00" required />
          </div>
          <div class="form-half">
            <label>Cashout At</label>
            <input type="number" id="cashoutAt" step="0.01" min="1.01" max="1000" placeholder="0.00" required />
          </div>
        </div>
        <div class="form-row">
          <div class="form-half">
            <label>On Loss (%)</label>
            <input type="number" id="onLoss" step="0.01" min="0" max="500" placeholder="50.00" required />
          </div>
          <div class="form-half">
            <label>On Win (%)</label>
            <input type="number" id="onWin" step="0.01" min="-100" max="100" placeholder="25.00" required />
          </div>
        </div>
      </div>

      <!-- Stop Rules -->
      <div class="config-section">
        <h4>🛑 Stop Betting Rules</h4>
        <div class="form-row">
          <div class="form-half">
            <label>Crash At</label>
            <input type="number" id="crashAt" step="0.01" min="1.00" max="10" placeholder="1.00" required />
          </div>
          <div class="form-half">
            <label>Times</label>
            <input type="number" id="crashTimes" step="1" min="1" max="20" placeholder="3" required />
          </div>
        </div>
      </div>

      <!-- Resume Rules -->
      <div class="config-section">
        <h4>🔄 Resume Betting Rules</h4>
        <div class="form-row">
          <div class="form-half">
            <label>Resume At</label>
            <input type="number" id="resumeAt" step="0.01" min="1.01" max="100" placeholder="2.00" required />
          </div>
          <div class="form-half">
            <label>Adjust Bet (%)</label>
            <input type="number" id="resumeAdjust" step="0.01" min="-100" max="500" placeholder="0.00" />
          </div>
        </div>
      </div>

      <!-- Reset Rules -->
      <div class="config-section">
        <h4>🔄 Reset Rules</h4>
        <div class="form-row">
          <div class="form-half">
            <label>If Changes (%)</label>
            <input type="number" id="resetThreshold" step="0.01" min="-100" max="1000" placeholder="0.00" />
          </div>
          <div class="form-half">
            <label>If Profit (x times)</label>
            <input type="number" id="profitTimes" step="1" min="0" max="100" placeholder="0" />
          </div>
        </div>
      </div>

      <!-- Display Settings -->
      <div class="config-section">
        <h4>🔢 Display Settings</h4>
        <div class="form-row">
          <div class="form-full">
            <label>Decimal Places (0-5)</label>
            <input type="number" id="decimalPlaces" step="1" min="0" max="5" placeholder="0" value="0" />
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button id="saveBtn" class="save-btn btn-small">💰 Save Config</button>
      </div>
    </div>

    <!-- History Tab Content -->
    <div id="historyContent" class="tab-content">
           
      <!-- Current Cycle Profit Summary -->
      <div class="profit-summary">
        <h4>📊 Current Cycle</h4>
        <div class="profit-stats">
          <span class="profit-label">Profit: <span id="totalProfitCurrency">$</span><span id="totalProfit">0.00</span></span>
          <span class="loss-label">Loss: <span id="totalLossCurrency">$</span><span id="totalLoss">0.00</span></span>
          <span class="net-label">Net: <span id="netProfitCurrency">$</span><span id="netProfit">0.00</span></span>
        </div>
        <div class="graph-container">
          <canvas id="profitChart" width="200" height="100"></canvas>
        </div>
      </div>

      <!-- Betting History -->
      <div class="history-section">
        <div class="history-header">
          <h4>📊 Recent Bets</h4>
          <button id="fullscreenBtn" class="fullscreen-btn">⛶</button>
        </div>
        <div id="historyList" class="history-list">
          <!-- History items will be added here -->
        </div>
      </div>
    </div>

    <script src="sidepanel.js"></script>
  </body>
</html>

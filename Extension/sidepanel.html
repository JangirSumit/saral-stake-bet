<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="refreshNote" class="refresh-note">
      ⚠️ Refresh the main page if status is not in sync with Bet Button
    </div>
    <h3>🎲 Stake Crash Automate Betting</h3>
    <div id="buttonStatus" class="button-status">
      <span class="status-dot red" title="Not Connected"></span>
      <span class="status-text">Status: Ready</span>
    </div>
    <div id="currentBetAmount" class="current-bet-amount">Next Bet: ₹0.00</div>
    <div id="betNotification" class="bet-notification hidden"></div>

    <div class="panel">
      <div class="panel-header" id="configHeader">
        <h4>💰 Betting Configuration</h4>
        <span class="toggle-icon" id="configToggle">▼</span>
      </div>
      <div class="panel-content" id="configContent">
        <div class="form-row">
          <div class="form-half">
            <label>Bet Amount</label>
            <input
              type="number"
              id="betAmount"
              step="0.01"
              placeholder="0.00"
            />
          </div>
          <div class="form-half">
            <label>Cashout At</label>
            <input
              type="number"
              id="cashoutAt"
              step="0.01"
              placeholder="0.00"
            />
          </div>
        </div>
        <div class="form-row">
          <div class="form-half">
            <label>On Loss (%)</label>
            <input type="number" id="onLoss" step="0.01" placeholder="50.00" />
          </div>
          <div class="form-half">
            <label>On Win (%)</label>
            <input type="number" id="onWin" step="0.01" placeholder="25.00" />
          </div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header" id="stopHeader">
        <h4>🛑 Stop Betting Rules</h4>
        <span class="toggle-icon" id="stopToggle">▼</span>
      </div>
      <div class="panel-content" id="stopContent">
        <div class="form-row">
          <div class="form-half">
            <label>Crash At</label>
            <input type="number" id="crashAt" step="0.01" placeholder="1.00" />
          </div>
          <div class="form-half">
            <label>Times</label>
            <input type="number" id="crashTimes" step="1" placeholder="3" />
          </div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header" id="resumeHeader">
        <h4>🔄 Resume Betting</h4>
        <span class="toggle-icon" id="resumeToggle">▼</span>
      </div>
      <div class="panel-content" id="resumeContent">
        <div class="form-row">
          <div class="form-half">
            <label>Resume At</label>
            <input type="number" id="resumeAt" step="0.01" placeholder="2.00" />
          </div>
          <div class="form-half">
            <label>Adjust Bet (%)</label>
            <input
              type="number"
              id="resumeAdjust"
              step="0.01"
              placeholder="0.00"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header" id="resetHeader">
        <h4>🔄 Reset Bet Amount</h4>
        <span class="toggle-icon" id="resetToggle">▼</span>
      </div>
      <div class="panel-content" id="resetContent">
        <div class="form-row">
          <div class="form-half">
            <label>If Changes (%)</label>
            <input
              type="number"
              id="resetThreshold"
              step="0.01"
              placeholder="0.00"
            />
          </div>
          <div class="form-half">
            <label>If Profit Crosses (x times)</label>
            <input
              type="number"
              id="profitTimes"
              step="1"
              placeholder="0"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="mt-2">
      <button id="saveBtn" class="save-btn btn-small">💰 Save Config</button>
      <button id="resetBetBtn" class="btn-small">🔄 Resest</button>
    </div>
    <div class="mt-2 full-width">
      <button id="startStopBtn" class="btn-small" disabled style="opacity: 0.5">
        🎯 Start
      </button>
    </div>

    <div class="panel mt-2 full-width">
      <div class="panel-header" id="historyHeader">
        <div>
          <h4>📊 Betting History</h4>
          <button id="fullscreenBtn" class="fullscreen-btn">⛶</button>
        </div>
        <span class="toggle-icon" id="historyToggle">▼</span>
      </div>
      <div class="panel-content" id="historyContent">
        <div id="historyList" class="history-list">
          <!-- History items will be added here -->
        </div>
      </div>
    </div>

    <div class="panel mt-2 full-width">
      <div class="panel-header" id="graphHeader">
        <h4>📈 Profit/Loss Graph</h4>
        <span class="toggle-icon" id="graphToggle">▼</span>
      </div>
      <div class="panel-content" id="graphContent">
        <div class="profit-graph">
          <div class="graph-header">
            <span class="profit-label">Profit: ₹<span id="totalProfit">0.00</span></span>
            <span class="loss-label">Loss: ₹<span id="totalLoss">0.00</span></span>
            <span class="net-label">Net: ₹<span id="netProfit">0.00</span></span>
          </div>
          <div class="graph-container">
            <canvas id="profitChart" width="200" height="50"></canvas>
          </div>
        </div>
      </div>
    </div>

    <script src="sidepanel.js"></script>
  </body>
</html>
